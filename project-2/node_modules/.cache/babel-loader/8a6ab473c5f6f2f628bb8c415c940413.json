{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import\"../../css/Main.css\";import\"bootstrap/dist/css/bootstrap.css\";import{NavLink,Redirect}from\"react-router-dom\";import{PostCardComponent}from\"../post-card-component/PostCardComponent\";import{Pagination,PaginationItem,PaginationLink,Button,Collapse}from\"reactstrap\";import{SubmitCardComponent}from\"../submit-card-component/SubmitCardComponent\";export var ProfilePageComponent=/*#__PURE__*/function(_React$Component){_inherits(ProfilePageComponent,_React$Component);function ProfilePageComponent(props){var _this;_classCallCheck(this,ProfilePageComponent);_this=_possibleConstructorReturn(this,_getPrototypeOf(ProfilePageComponent).call(this,props));_this.pageTurnForward=function(){var newOffset=_this.state.offset+_this.state.limit;_this.props.getAllPosts(_this.state.limit,newOffset,_this.props.user);_this.setState(_objectSpread({},_this.state,{offset:newOffset}));};_this.pageTurnFirst=function(){var newOffset=0;_this.props.getAllPosts(_this.state.limit,newOffset,_this.props.user);_this.setState(_objectSpread({},_this.state,{offset:newOffset}));};_this.pageTurnBack=function(){if(_this.state.offset>0){var newOffset=_this.state.offset-_this.state.limit;_this.props.getAllPosts(_this.state.limit,newOffset,_this.props.user);_this.setState(_objectSpread({},_this.state,{offset:newOffset}));}};_this.toggleSubmitCard=function(){_this.setState(_objectSpread({},_this.state,{toggle:!_this.state.toggle}));};_this.state={limit:10,offset:0,toggle:false};return _this;}_createClass(ProfilePageComponent,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.props.user){if(this.props.allPosts.length===0){this.props.getAllPosts(10,0,this.props.user);}}case 1:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;if(this.props.user.username){var displayList=this.props.allPosts.map(function(post){return React.createElement(React.Fragment,null,React.createElement(PostCardComponent,{post:post,currUser:_this2.props.user,parent:\"pp\",key:post.postId}),React.createElement(\"br\",null));});return React.createElement(\"div\",{className:\"MainButtons\"},React.createElement(\"header\",null,React.createElement(\"nav\",null,React.createElement(\"ul\",null,React.createElement(\"li\",null,React.createElement(NavLink,{to:{pathname:\"/home\"}},\"Home\")),React.createElement(\"li\",null,React.createElement(NavLink,{to:{pathname:\"/\"},onClick:this.props.logout},\"Logout\"))))),React.createElement(\"br\",null),React.createElement(\"div\",null,React.createElement(Button,{color:\"primary\",onClick:this.toggleSubmitCard},\"Add post\"),React.createElement(Collapse,{isOpen:this.state.toggle},React.createElement(SubmitCardComponent,{currUser:this.props.user}))),React.createElement(\"div\",null,displayList/*()=>{for(let post of this.props.allPosts) return <PostCardComponent post={post} currUser={this.props.user} parent=\"pp\"/>}*/),React.createElement(\"div\",null,React.createElement(Pagination,{\"aria-label\":\"Page navigation example\"},React.createElement(PaginationItem,{disabled:true},React.createElement(PaginationLink,{first:true,onClick:this.pageTurnFirst})),React.createElement(PaginationItem,{disabled:!this.state.offset,onClick:this.pageTurnBack},React.createElement(PaginationLink,{previous:true})),React.createElement(PaginationItem,{onClick:this.pageTurnForward},React.createElement(PaginationLink,{next:true})),React.createElement(PaginationItem,null,React.createElement(PaginationLink,{last:true})))));}else{return React.createElement(Redirect,{to:\"/login\"});}}}]);return ProfilePageComponent;}(React.Component);","map":{"version":3,"sources":["C:/Users/palki/OneDrive/Documents/Revy/project2/project-2/src/components/profile-page-component/ProfilePageComponent.tsx"],"names":["React","NavLink","Redirect","PostCardComponent","Pagination","PaginationItem","PaginationLink","Button","Collapse","SubmitCardComponent","ProfilePageComponent","props","pageTurnForward","newOffset","state","offset","limit","getAllPosts","user","setState","pageTurnFirst","pageTurnBack","toggleSubmitCard","toggle","allPosts","length","username","displayList","map","post","postId","pathname","logout","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"../../css/Main.css\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport IUser from \"../../model/IUser\";\r\nimport { IPost } from \"../../model/IPost\";\r\nimport { PostCardComponent } from \"../post-card-component/PostCardComponent\";\r\nimport {\r\n  CardColumns,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  Button,\r\n  Collapse\r\n} from \"reactstrap\";\r\nimport { postComment } from \"../../utilities/api\";\r\nimport { SubmitCardComponent } from \"../submit-card-component/SubmitCardComponent\";\r\n\r\ninterface IPostState {\r\n  limit: number;\r\n  offset: number;\r\n  toggle: boolean\r\n}\r\n\r\ninterface IPostProps {\r\n  user: IUser;\r\n  allPosts: IPost[];\r\n  getAllPosts: (limit: number, offset: number, user: IUser) => void;\r\n  logout: () => void;\r\n}\r\n\r\nexport class ProfilePageComponent extends React.Component<\r\n  IPostProps,\r\n  IPostState\r\n> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      limit: 10,\r\n      offset: 0,\r\n      toggle: false\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (this.props.user) {\r\n      if (this.props.allPosts.length === 0) {\r\n        this.props.getAllPosts(10, 0, this.props.user);\r\n      }\r\n    }\r\n  }\r\n\r\n  pageTurnForward = () => {\r\n    let newOffset = this.state.offset + this.state.limit;\r\n    this.props.getAllPosts(this.state.limit, newOffset, this.props.user);\r\n    this.setState({\r\n      ...this.state,\r\n      offset: newOffset\r\n    });\r\n  };\r\n\r\n  pageTurnFirst = () => {\r\n    let newOffset = 0;\r\n    this.props.getAllPosts(this.state.limit, newOffset, this.props.user);\r\n    this.setState({\r\n      ...this.state,\r\n      offset: newOffset\r\n    });\r\n  };\r\n\r\n  pageTurnBack = () => {\r\n    if (this.state.offset > 0) {\r\n      let newOffset = this.state.offset - this.state.limit;\r\n      this.props.getAllPosts(this.state.limit, newOffset, this.props.user);\r\n      this.setState({\r\n        ...this.state,\r\n        offset: newOffset\r\n      });\r\n    }\r\n  };\r\n\r\n  toggleSubmitCard = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      toggle: !this.state.toggle\r\n    })\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    if (this.props.user.username) {\r\n      const displayList: any[] = this.props.allPosts.map<any>((post: any) => {\r\n        return <><PostCardComponent post={post} currUser={this.props.user} parent=\"pp\" key={post.postId}/><br/></>\r\n      })\r\n      return (\r\n        <div className=\"MainButtons\">\r\n          <header>\r\n            <nav>\r\n              <ul>\r\n                <li>\r\n                  <NavLink to={{pathname: \"/home\"}}>\r\n                    Home\r\n                  </NavLink>\r\n                </li>\r\n                <li>\r\n                  <NavLink\r\n                    to={{pathname: \"/\"}} \r\n                    onClick={this.props.logout}>\r\n                    Logout\r\n                  </NavLink>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n          </header>\r\n          <br/>\r\n          <div>\r\n            <Button color=\"primary\" onClick={this.toggleSubmitCard}>Add post</Button>\r\n            <Collapse isOpen={this.state.toggle}>\r\n              <SubmitCardComponent currUser={this.props.user}></SubmitCardComponent>\r\n            </Collapse>\r\n          </div>\r\n          <div>\r\n              \r\n\r\n              {displayList /*()=>{for(let post of this.props.allPosts) return <PostCardComponent post={post} currUser={this.props.user} parent=\"pp\"/>}*/}\r\n              </div>\r\n              <div>\r\n            <Pagination aria-label=\"Page navigation example\">\r\n              <PaginationItem disabled>\r\n                <PaginationLink first onClick={this.pageTurnFirst} />\r\n              </PaginationItem>\r\n              <PaginationItem\r\n                disabled={!this.state.offset}\r\n                onClick={this.pageTurnBack}\r\n              >\r\n                <PaginationLink previous />\r\n              </PaginationItem>\r\n              <PaginationItem onClick={this.pageTurnForward}>\r\n                <PaginationLink next />\r\n              </PaginationItem>\r\n              <PaginationItem>\r\n                <PaginationLink last />\r\n              </PaginationItem>\r\n            </Pagination>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}