{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\palki\\\\OneDrive\\\\Documents\\\\Revy\\\\project2\\\\project-2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import{authenticateUser}from\"../utilities/api\";export var loginTypes={LOGIN_SUCCESS:'LOGIN_LOGIN_SUCCESS',LOGIN_UNSUCCESS:'LOGIN_LOGIN_UNSUCCESS',LOGOUT:'LOGIN_LOGOUT'};export var updateCurrentUser=function updateCurrentUser(username,password){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return authenticateUser(username,password);case 2:response=_context.sent;_context.t0=response.status;_context.next=_context.t0===200?6:_context.t0===202?6:_context.t0===401?8:9;break;case 6:dispatch({type:loginTypes.LOGIN_SUCCESS,payload:{currUser:response.data}});return _context.abrupt(\"break\",9);case 8:dispatch({type:loginTypes.LOGIN_UNSUCCESS,payload:{loginMessege:response.status+\" login failed!\"}});case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};export var logout=function logout(){return function(dispatch){dispatch({type:loginTypes.LOGOUT,payload:{loginMessege:\"logged out!\"}});};};","map":{"version":3,"sources":["C:/Users/palki/OneDrive/Documents/Revy/project2/project-2/src/action-mappers/login-actions.ts"],"names":["authenticateUser","loginTypes","LOGIN_SUCCESS","LOGIN_UNSUCCESS","LOGOUT","updateCurrentUser","username","password","dispatch","response","status","type","payload","currUser","data","loginMessege","logout"],"mappings":"ySAAA,OAASA,gBAAT,KAAiC,kBAAjC,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,CACtBC,aAAa,CAAE,qBADO,CAEtBC,eAAe,CAAE,uBAFK,CAGtBC,MAAM,CAAE,cAHc,CAAnB,CAMP,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,QAAD,CAAkBC,QAAlB,kGACzB,iBAAOC,QAAP,qJAGqBR,CAAAA,gBAAgB,CAACM,QAAD,CAAWC,QAAX,CAHrC,QAGAE,QAHA,2BAKIA,QAAQ,CAACC,MALb,6BAMK,GANL,iBAOK,GAPL,iBAeK,GAfL,kBAQIF,QAAQ,CAAC,CACLG,IAAI,CAACV,UAAU,CAACC,aADX,CAELU,OAAO,CAAC,CACJC,QAAQ,CAACJ,QAAQ,CAACK,IADd,CAFH,CAAD,CAAR,CARJ,yCAgBIN,QAAQ,CAAC,CACLG,IAAI,CAACV,UAAU,CAACE,eADX,CAELS,OAAO,CAAE,CACLG,YAAY,CAACN,QAAQ,CAACC,MAAT,CAAkB,gBAD1B,CAFJ,CAAD,CAAR,CAhBJ,sDADyB,iEAA1B,CA0BP,MAAO,IAAMM,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,SAAM,UAACR,QAAD,CAAkB,CAC1CA,QAAQ,CAAC,CACLG,IAAI,CAACV,UAAU,CAACG,MADX,CAELQ,OAAO,CAAC,CACJG,YAAY,CAAC,aADT,CAFH,CAAD,CAAR,CAMH,CAPqB,EAAf","sourcesContent":["import { authenticateUser } from \"../utilities/api\";\r\n\r\nexport const loginTypes = {\r\n    LOGIN_SUCCESS: 'LOGIN_LOGIN_SUCCESS',\r\n    LOGIN_UNSUCCESS: 'LOGIN_LOGIN_UNSUCCESS',\r\n    LOGOUT: 'LOGIN_LOGOUT'\r\n}\r\n\r\nexport const updateCurrentUser = (username:string, password:string) =>\r\n        async (dispatch:any) => {\r\n    \r\n\r\n    let response:any = await authenticateUser(username, password);\r\n    //console.log(response.data);\r\n    switch (response.status) {\r\n        case 200:\r\n        case 202:\r\n            dispatch({\r\n                type:loginTypes.LOGIN_SUCCESS,\r\n                payload:{\r\n                    currUser:response.data\r\n                }\r\n            });\r\n            break;\r\n        case 401:\r\n            dispatch({\r\n                type:loginTypes.LOGIN_UNSUCCESS,\r\n                payload: {\r\n                    loginMessege:response.status + \" login failed!\"\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\nexport const logout = () => (dispatch:any) => {\r\n    dispatch({\r\n        type:loginTypes.LOGOUT,\r\n        payload:{\r\n            loginMessege:\"logged out!\"\r\n        }\r\n    });\r\n}"]},"metadata":{},"sourceType":"module"}